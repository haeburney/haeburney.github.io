---
caption: #what displays in the portfolio grid:
  title: 유스크림
  subtitle: 매장 & 상품 관리 프로그램
  thumbnail: assets/img/portfolio/uscream/login.png
  
#what displays when the item is clicked:
title: 유스크림(Uscream)
subtitle: 매장 & 상품 관리 프로그램
image: assets/img/portfolio/uscream/login.png #main image, can be a link or a file in assets/img/portfolio
alt: image alt text

---
{:.list-inline} 
- <strong>Duration</strong> : 2023.06.12 ~ 2023.07.12 (31일) <br/>
- <strong>Team Members</strong> : 6 <br/>
- <strong>Github Repository main</strong> : <a href="https://github.com/haeburney/final_uscream_vue">github.com/haeburney/final_uscream_vue</a><br/>
- <strong>Github Repository kiosk</strong> : <a href="https://github.com/haeburney/final_kiosk_vue">github.com/haeburney/final_kiosk_vue</a><br/>
- <strong>Deploy Site</strong> : 배포사이트 업로드 미정<br/><br/>
 
<h5>Stack</h5>
- <strong>Front-End</strong><br/> - HTML5, CSS3, JavaScript, Jquery, Vue.js, Bootstrap, Vue-FullCalendar <br/>
- <strong>Back-End</strong><br/> - Java, Spring Boot, Spring Data JPA <br/>
- <strong>DataBase</strong><br/> - Oracle, SQLDeveloper <br/>
- <strong>Server</strong><br/> - Apache Tomcat <br/>
- <strong>Open API</strong><br/> - Kakao Map API, Kakao Login API, NHN 결제 API <br/><br/> 

<h5>Introduction</h5>
유스크림 프로젝트는 KOSTA 257기 파이널 프로젝트로 진행되었습니다.<br/><br/>

<h5>Motivation</h5>
프로젝트 회의에서 여러 아이디어가 나왔는데, 이들이 공통적으로 가지고 있던 핵심은 "비즈니스 프로세스 관리"였습니다. 
이후 두 가지 주제로 좁혀졌고, 투표 결과 <strong>"매장 & 상품 관리 프로그램"</strong>으로 결정되었습니다.<br/><br/>
<strong>① 매출 계산</strong> : 매출과 매출에서 원가, 인건비를 제외한 순매출을 계산하는 기능을 통해 년별, 월별, 일별, 지점별 등 다양한 측면에서 캘린더로 매출을 보기 시각적으로 확인할 수 있습니다.<br/>
<strong>② 상품(발주) 관리</strong> : 본사는 상품을 추가하거나 삭제할 수 있으며, 지점은 필요한 상품을 신청할 수 있습니다.<br/>
<strong>③ 직원 관리</strong> : 지점은 직원을 추가/수정/삭제 할 수 있으며 스케줄 관리를 통하여 해당 날짜에 근무 인원 수를 한 눈에 확인할 수 있습니다. 또한 근태 관리를 통하여 직원의 출퇴근 시간을 파악할 수 있습니다.<br/>
<strong>④ 메일</strong> : 지점이나 본사 계정은 서로 메일을 주고 받을 수 있어, 소통이 용이해집니다.<br/>
<strong>⑤ 공지사항, 고객의 소리</strong> : 본사에서 공지사항을 작성/수정/삭제할 수 있고 지점은 이를 확인 할 수 있습니다. 또한, 고객에게서 온 컴플레인이나 칭찬의 말을 본사에서 작성(전달)하여 지점에서 확인할 수 있습니다. 
컴플레인의 경우, 지점은 해당 글에 댓글로 답변을 작성하는 기능을 구현하여, 지점은 컴플레인에 대한 피드백과 개선 방안을 고려하고, 필요한 조치를 취할 수 있습니다. 이를 통해 소통과 고객 서비스 향상에 기여하게 됩니다.
<br/><br/>

<h5>Project Schedule</h5>
<strong>Main</strong><br/>
6월 12~15일 : 주제 선정, 설계<br/>
6월 16~25일 : Back 구현<br/>
6월 26일~7월 6일 : Front 구현<br/>
7월 7~11일 : 디버깅<br/><br/>
<strong>Kiosk</strong><br/>
6월 27일 : 설계<br/>
6월 28일 ~ 7월 4일 : Kiosk Back 구현<br/>
7월 5~8일 : Kiosk Front 구현<br/><br/>

<h5>Team Member</h5>
- <strong>김혜원</strong> : <a href="https://github.com/haeburney">github.com/haeburney</a>
- 김희수 : <a href="https://github.com/Hee-Soo">github.com/Hee-Soo</a>
- 박재연 : <a href="https://github.com/etoile0712">github.com/etoile0712</a>
- 방현중 : <a href="https://github.com/nonghtt">github.com/nonghtt</a>
- 원유경 : <a href="https://github.com/wyk160">github.com/wyk160</a>
- 양승혁 : <a href="https://github.com/Seung-hyuck">github.com/Seung-hyuck</a><br/><br/><br/>

<h5>Team Member Roles</h5>
- <strong>김혜원</strong> : 직원 관리, 근태 관리, 인건비 계산 기능<br/>
- 김희수 : 계정, 지점 기능, 카카오 맵 API 구현, 추가적인 KIOSK 프로그램 기능 구현<br/>
- 박재연 : 공지사항, 고객의 소리 기능<br/>
- 방현중 : GIT 관리, 메일 시스템 구현<br/> 
- 원유경 : 매출 관리 기능 (매출, 순매출)<br/> 
- 양승혁 : 리더, 발주 및 상품 관리 기능, 추가적인 KIOSK 프로그램 기능 구현, 카카오 로그인 API, NHN 결제 구현<br/><br/><br/>

<h5>Features</h5>

|구분|관리자(본사)|지점(매장)|
|---|---|---|
|계정 관리|가맹점 아이디 생성|비밀번호 변경|
|공지사항|등록(안내 or 이벤트)|안내, 이벤트(파일 게시판)|
|상품관리|구매/발주 승인, 신제품 등록|구매/발주, 재고 현황 파악|
|직원 관리|표출 메뉴 없음|직원 등록, 업무 스케줄 노출, 출퇴근 시간 노출|
|매출 관리|연도별/월별 매출, 전체, 지점별|연도별/원별/일별 매출, 순매출|
|고객의 소리|전체글|전체글(지점에서 댓글로 답변)|
|메시지|메신저함(발송 가능)|메신저함(발송 가능)|

<br/><br/>

<h5>ERD</h5>
<strong>main</strong><br/>
<img src="assets/img/portfolio/uscream/erdMain.png"><br/><br/>
<strong>kiosk</strong><br/>
<img src="assets/img/portfolio/uscream/erdKiosk.png"><br/><br/><br/>

<h5>Design-Prototype</h5>
miro를 이용하여 prototype을 만들었습니다.<br/><br/>
<strong>kiosk</strong><br/>
<img src="assets/img/portfolio/uscream/mirokiosk.png"><br/><br/>
<strong>전체</strong><br/>
<img src="assets/img/portfolio/uscream/miroall.png"><br/><br/>
<strong>사이드 메뉴</strong><br/>
<img src="assets/img/portfolio/uscream/mironav.png"><br/><br/>
<strong>매출</strong><br/>
<img src="assets/img/portfolio/uscream/mirosales.png"><br/><br/>
<strong>스토어(매장)</strong><br/>
<img src="assets/img/portfolio/uscream/mirostore.png">
<img src="assets/img/portfolio/uscream/mirostoreedit.png"><br/><br/>
<strong>메일</strong><br/>
<img src="assets/img/portfolio/uscream/miromail1.png">
<img src="assets/img/portfolio/uscream/miromail2.png">
<img src="assets/img/portfolio/uscream/miromail3.png"><br/><br/>
<strong>상품</strong><br/>
<img src="assets/img/portfolio/uscream/miroproduct1.png">
<img src="assets/img/portfolio/uscream/miroproduct2.png">
<img src="assets/img/portfolio/uscream/miroproduct3.png"><br/><br/>
<strong>직원</strong><br/>
<img src="assets/img/portfolio/uscream/miroemp1.png">
<img src="assets/img/portfolio/uscream/miroemp2.png">
<img src="assets/img/portfolio/uscream/miroemp3.png">
<img src="assets/img/portfolio/uscream/miroemp4.png"><br/><br/>
<strong>공지사항</strong><br/>
<img src="assets/img/portfolio/uscream/mironotice1.png">
<img src="assets/img/portfolio/uscream/mironotice2.png"><br/><br/>
<strong>고객의 소리</strong><br/>
<img src="assets/img/portfolio/uscream/mironotice3.png">
<br/><br/><br/>

<h5>API</h5>
<strong>① [KAKAO Maps API](https://apis.map.kakao.com/)</strong><br/>
KAKAO Maps API를 이용하여 가맹점 지도로 검색하는 기능과 지점별 지도 위치를 볼 수 있는 기능을 넣었습니다.<br/><br/>
<strong>② [KAKAO Login REST API](https://developers.kakao.com/docs/latest/ko/kakaologin/rest-api)</strong><br/>
KAKAO Login REST API를 이용하여 KIOSK 페이지에서 카카오 로그인 기능을 구현했습니다.<br/><br/>
<strong>② [NHN KCP API](https://developer.kcp.co.kr/)</strong><br/>
NHN KCP API를 KIOSK 페이지에서 결제 기능을 구현했습니다.<br/><br/><br/>

<hr/><br/>
<h5>The Feature I Developed</h5>
<strong>직원 등록/수정/삭제</strong><br/>
<img src="assets/img/portfolio/uscream/empadd.gif"><br/><br/>
<strong>직원 스케줄 등록</strong><br/>
<img src="assets/img/portfolio/uscream/scheduleadd.gif"><br/><br/>
<strong>직원 스케줄 추가/수정/삭제</strong><br/>
<img src="assets/img/portfolio/uscream/scheduledelete.gif"><br/><br/>
<strong>직원 근태관리</strong>
<img src="assets/img/portfolio/uscream/attendance.gif"><br/><br/>
<br/><br/><br/>

<h5>The Feature Team Developed</h5>
<strong>login</strong>
<img src="assets/img/portfolio/uscream/ulogin.gif">
<br/><br/><br/><br/><br/>

<h5>Development Reflections (KPT)</h5>
<strong>[Problem]</strong><br/>
이번 프로젝트에서는 정해진 일정보다 기능을 많이 추가하여 일정 관리에 어려움을 겪었다. 이로 인해 디버깅 시간이 부족해져 오류를 처리하는데 제대로 신경쓰지 못한 실수가 발생하였다. 앞으로는 일정 관리를 더 신중하게 고려하고, 개발 단계에서 디버깅에 충분한 시간을 확보하는 것이 중요하다고 깨닫게 되었다.<br/><br/>

<strong>[Try]</strong><br/>
<strong>① Javascript 시간 타입 변경해주기</strong><br/>
Javascript에서 input 태그를 통해 날짜와 시간을 받아오면 

```
startdate : Thu Jun 01 2023 09:00:00 GMT+0900 (한국 표준시)
enddate : Fri Jun 30 2023 09:00:00 GMT+0900 (한국 표준시)
```

<br/>이런 식으로 불러와진다.
하지만 자바에 넘길 때에는 <strong>2023-06-04T09:00:00</strong> 이런 식으로 들어가야 한다. 
그래서 input에서 받아온 값을 변경해줬다.

```
const dateObj = new Date(startdate)
const year = dateObj.getFullYear();
const month = String(dateObj.getMonth() + 1).padStart(2, "0");
const day = String(dateObj.getDate()).padStart(2, "0");
const hours = String(dateObj.getHours()).padStart(2, "0");
const minutes = String(dateObj.getMinutes()).padStart(2, "0");
const seconds = String(dateObj.getSeconds()).padStart(2, "0");
const formattedDate = `${year}-${month}-${day}T${hours}:${minutes}:${seconds}`;
```

<br/>

<strong>② Javascript Date 객체 → String으로 바꾸기</strong><br/>
캘린더에서 이벤트를 클릭하면 이벤트 정보를 가져오게 만들었다.
시간을 쪼개야 하는데 Date Object라 불가능했다.
그래서 String으로 바꾼 다음 slice를 사용했다.

```
let startTime = JSON.stringify(info.event._instance.range.start)
```



<br/><br/><br/>
<strong>[Keep]</strong><br/>
① 주석을 통해 코드의 목적을 명확히 설명하여 향후 유지보수에 용이하게 만들었다.
내가 작성한 코드를 다시 정독하면서 불필요한 부분은 제거하고, 다시 살펴보았을 때 '왜 이렇게 작성했는지?'라는 생각이 들거나, 다른 팀원이 코드를 볼 때 헷갈릴 수 있는 부분에 주석을 적극적으로 추가하였다. <br/>

② 그리고 근태 관리 테이블을 통하여 인건비를 계산해야 했다. 언제 어디서 어떻게?를 고민하다가 <strong>@Scheduled</strong>라는 어노테이션을 사용하여 매달 1일에 전달의 인건비를 계산해주는 함수를 작성했다.

```
// 매달 월급 계산해주기
@Scheduled(cron = "0 0 0 1 * ?")		// 매달 1일 00:00:00에 실행
public Map myScheduledFunction() {
	Map map = new HashMap();
	MonthlypayDto mpDto = new MonthlypayDto();

	LocalDate today = LocalDate.now();
	int year = today.getYear(); 		// 해당 년도 가져오기
	int month = today.getMonthValue(); 	// 해당 월 가져오기

	if (month == 1) {
		month = 12;
		year -= 1;
	} else {
		month -=1;
	}

	boolean result = sumF(year, month, "0");
	map.put("flag", result);
	return map;
}
```

<br/><br/><br/>